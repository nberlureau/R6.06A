---
// src/pages/home.astro
import "../styles/global.css";
import "../styles/style.css";
---

<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>GlossAI - Your Glossaries</title>
    </head>

    <body class="bg-gray-50">
        <!-- Header -->
        <header class="bg-white border-b border-gray-200 px-8 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center gap-2">
                    <img
                        src="static/logo.png"
                        alt="GlossAI Logo"
                        width="200px"
                    />
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="px-8 py-8">
            <div class="max-w-7xl mx-auto">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-3xl font-semibold text-gray-900">
                        Your glossaries
                    </h2>
                    <div class="flex gap-3">
                        <button
                            id="importGlossaryBtn"
                            class="bg-primary hover-bg-primary text-white px-6 py-2.5 rounded-lg font-medium transition-colors"
                        >
                            Import glossary
                        </button>
                        <button
                            id="newGlossaryBtn"
                            class="bg-primary hover-bg-primary text-white px-6 py-2.5 rounded-lg font-medium transition-colors"
                        >
                            New glossary
                        </button>
                    </div>
                </div>

                <!-- Glossaries List -->
                <div id="glossariesContainer" class="space-y-4">
                    <!-- Glossaries will be inserted here -->
                </div>

                <!-- Empty state -->
                <div id="emptyState" class="hidden text-center py-20">
                    <p class="text-gray-500 text-lg">No glossaries yet</p>
                    <p class="text-gray-400 mt-2">
                        Create your first glossary to get started
                    </p>
                </div>
            </div>
        </main>

        <!-- Modal New Glossary -->
        <div id="newGlossaryModal" class="hidden fixed inset-0 z-50">
            <div
                class="modal-overlay absolute inset-0 bg-opacity-30 backdrop-blur-sm"
                id="newGlossaryModalOverlay"
            >
            </div>
            <div class="flex items-center justify-center min-h-screen p-4">
                <div
                    class="modal-content bg-white rounded-3xl shadow-2xl max-w-2xl w-full p-10 relative"
                >
                    <h3 class="text-2xl font-semibold text-gray-900 mb-8">
                        Add a new glossary
                    </h3>

                    <div
                        class="bg-gray-50 rounded-2xl p-8 space-y-6 border border-gray-100"
                    >
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">
                            Details of the glossary
                        </h4>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Name <span class="text-red-600">*</span>
                            </label>
                            <input
                                type="text"
                                id="glossaryNameInput"
                                placeholder="Enter the name of the glossary"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all bg-white"
                            />
                            <p
                                id="glossaryNameError"
                                class="text-red-600 text-sm mt-1 hidden"
                            >
                                This field is required!
                            </p>
                        </div>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Description <span class="text-red-600">*</span>
                            </label>
                            <textarea
                                id="glossaryDescriptionInput"
                                placeholder="Enter the description of the glossary"
                                rows="4"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all resize-none bg-white"
                            ></textarea>
                            <p
                                id="glossaryDescriptionError"
                                class="text-red-600 text-sm mt-1 hidden"
                            >
                                This field is required!
                            </p>
                        </div>
                    </div>

                    <div class="flex justify-end gap-3 mt-8">
                        <button
                            id="cancelNewGlossaryBtn"
                            class="px-8 py-3 border border-gray-300 rounded-lg font-medium text-gray-900 hover:bg-gray-50 transition-colors"
                        >
                            Cancel
                        </button>
                        <button
                            id="submitNewGlossaryBtn"
                            class="px-8 py-3 bg-primary hover-bg-primary text-white rounded-lg font-medium transition-colors"
                        >
                            Add
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal View Glossary -->
        <div id="viewGlossaryModal" class="hidden fixed inset-0 z-50">
            <div
                class="modal-overlay absolute inset-0 bg-opacity-30 backdrop-blur-sm"
                id="viewGlossaryModalOverlay"
            >
            </div>
            <div class="flex items-center justify-center min-h-screen p-4">
                <div
                    class="modal-content bg-white rounded-3xl shadow-2xl max-w-2xl w-full p-10 relative"
                >
                    <h3 class="text-2xl font-semibold text-gray-900 mb-8">
                        Glossary Details
                    </h3>

                    <div
                        class="bg-gray-50 rounded-2xl p-8 space-y-6 border border-gray-100"
                    >
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">
                            Glossary Information
                        </h4>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Name
                            </label>
                            <p
                                id="viewGlossaryName"
                                class="text-gray-900 text-lg"
                            >
                            </p>
                        </div>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Description
                            </label>
                            <p
                                id="viewGlossaryDescription"
                                class="text-gray-600 text-lg"
                            >
                            </p>
                        </div>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Number of Terms
                            </label>
                            <p
                                id="viewGlossaryTermCount"
                                class="text-gray-600 text-lg"
                            >
                            </p>
                        </div>
                    </div>

                    <div class="flex justify-end gap-3 mt-8">
                        <button
                            id="closeViewGlossaryBtn"
                            class="px-8 py-3 border border-gray-300 rounded-lg font-medium text-gray-900 hover:bg-gray-50 transition-colors"
                        >
                            Close
                        </button>
                        <button
                            id="openGlossaryBtn"
                            class="px-8 py-3 bg-primary hover-bg-primary text-white rounded-lg font-medium transition-colors"
                        >
                            Open Glossary
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Edit Glossary -->
        <div id="editGlossaryModal" class="hidden fixed inset-0 z-50">
            <div
                class="modal-overlay absolute inset-0 bg-opacity-30 backdrop-blur-sm"
                id="editGlossaryModalOverlay"
            >
            </div>
            <div class="flex items-center justify-center min-h-screen p-4">
                <div
                    class="modal-content bg-white rounded-3xl shadow-2xl max-w-2xl w-full p-10 relative"
                >
                    <h3 class="text-2xl font-semibold text-gray-900 mb-8">
                        Edit Glossary
                    </h3>

                    <div
                        class="bg-gray-50 rounded-2xl p-8 space-y-6 border border-gray-100"
                    >
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">
                            Edit Glossary Details
                        </h4>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Name <span class="text-red-600">*</span>
                            </label>
                            <input
                                type="text"
                                id="editGlossaryNameInput"
                                placeholder="Enter the name of the glossary"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all bg-white"
                            />
                            <p
                                id="editGlossaryNameError"
                                class="text-red-600 text-sm mt-1 hidden"
                            >
                                This field is required!
                            </p>
                        </div>

                        <div>
                            <label
                                class="block text-sm font-medium text-gray-900 mb-2"
                            >
                                Description <span class="text-red-600">*</span>
                            </label>
                            <textarea
                                id="editGlossaryDescriptionInput"
                                placeholder="Enter the description of the glossary"
                                rows="4"
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent outline-none transition-all resize-none bg-white"
                            ></textarea>
                            <p
                                id="editGlossaryDescriptionError"
                                class="text-red-600 text-sm mt-1 hidden"
                            >
                                This field is required!
                            </p>
                        </div>
                    </div>

                    <div class="flex justify-end gap-3 mt-8">
                        <button
                            id="cancelEditGlossaryBtn"
                            class="px-8 py-3 border border-gray-300 rounded-lg font-medium text-gray-900 hover:bg-gray-50 transition-colors"
                        >
                            Cancel
                        </button>
                        <button
                            id="submitEditGlossaryBtn"
                            class="px-8 py-3 bg-primary hover-bg-primary text-white rounded-lg font-medium transition-colors"
                        >
                            Save
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Modal Import Glossary -->
        <div id="importModal" class="hidden fixed inset-0 z-50">
            <div
                class="modal-overlay absolute inset-0 bg-opacity-30 backdrop-blur-sm"
                id="importModalOverlay"
            >
            </div>
            <div class="flex items-center justify-center min-h-screen p-4">
                <div
                    class="modal-content bg-white rounded-3xl shadow-2xl max-w-md w-full p-8 relative"
                >
                    <h3 class="text-2xl font-semibold text-gray-900 mb-6">
                        Import Glossary
                    </h3>

                    <div class="space-y-4 mb-6">
                        <p class="text-gray-600">Choose file to import:</p>

                        <div
                            class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition-colors"
                            id="importDropZone"
                        >
                            <input
                                type="file"
                                id="importFileInput"
                                accept=".md,.json"
                                class="hidden"
                            />

                            <!-- Contenu par dÃ©faut -->
                            <div
                                id="dropZoneContent"
                                class="flex flex-col items-center gap-3"
                            >
                                <svg
                                    class="w-12 h-12 text-gray-400"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                                    ></path>
                                </svg>
                                <p class="text-gray-600">
                                    Click to select a file
                                </p>
                                <p class="text-sm text-gray-500">
                                    Supports: .md, .json
                                </p>
                            </div>
                            <div
                                id="filePreview"
                                class="hidden flex flex-col items-center gap-3"
                            >
                                <svg
                                    class="w-12 h-12 text-gray-400"
                                    fill="none"
                                    stroke="currentColor"
                                    viewBox="0 0 24 24"
                                >
                                    <path
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        stroke-width="2"
                                        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                    ></path>
                                </svg>
                                <p
                                    id="fileNameText"
                                    class="text-gray-600 text-center"
                                >
                                </p>
                            </div>
                        </div>

                        <div
                            id="importError"
                            class="text-red-600 text-sm hidden"
                        >
                        </div>
                    </div>

                    <div class="flex justify-end gap-3">
                        <button
                            id="importCancelBtn"
                            class="px-6 py-2 border border-gray-300 rounded-lg font-medium text-gray-900 hover:bg-gray-50 transition-colors"
                        >
                            Cancel
                        </button>
                        <button
                            id="importConfirmBtn"
                            class="px-6 py-2 bg-primary hover-bg-primary text-white rounded-lg font-medium transition-colors"
                        >
                            Import
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            import "../../public/main.js";
        </script>
    </body>
</html>
